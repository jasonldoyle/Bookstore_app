<%- include('partials/header') %>

<!-- Container for login form with vertical spacing -->
<div class="container py-5">
  <div class="row justify-content-center">
    <!-- Centered login form column -->
    <div class="col-md-6">
      <!-- Page head -->
      <h2 class="mb-4 text-center">Login</h2>

      <!-- Display login error message if exists -->
      <% if (error) { %>
        <div class="alert alert-danger"><%= error %></div>
      <% } %>

      <!-- Login form sending POST request to /login -->
      <form action="/login" method="POST">
        <!-- Input for email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" name="email" id="email" class="form-control" required>
        </div>

        <!-- Password input with toggle button to show/hide password -->
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <div class="input-group">
            <input type="password" name="password" id="password" class="form-control" required>
            <button type="button" class="btn btn-outline-secondary" id="togglePassword">Show</button>
          </div>
        </div>

        <!-- Submit button for login form -->
        <button class="btn btn-primary w-100">Login</button>
      </form>
    </div>
  </div>
</div>

<script>
  // Toggle password visibility on button click
  document.getElementById('togglePassword').addEventListener('click', function () {
    const input = document.getElementById('password');
    const isPassword = input.type === 'password';
    input.type = isPassword ? 'text' : 'password';
    // Change button text based on current state
    this.textContent = isPassword ? 'Hide' : 'Show';
  });
</script>

<%- include('partials/footer') %>